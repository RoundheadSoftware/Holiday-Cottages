@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    IPublishedContent root = Model.Content.AncestorOrSelf(1);
}
<div id="primary-menu" class="menu">
    <nav>
        <ul aria-expanded="false" class="nav-menu">
            <li class="active">
                <a href="@root.Url">@root.Name</a>
            </li>
            @foreach (var page in root.Children.Where(x => x.IsVisible()))
    {
        if (page.IsAncestorOrSelf(Model.Content))
        {
            <li class="active">
                <a href="@page.Url">@page.Name</a>
            </li>
}
else
{
        <li>
            <a href="@page.Url">@page.Name</a>
        </li>
}
}
        </ul>
    </nav>
</div>